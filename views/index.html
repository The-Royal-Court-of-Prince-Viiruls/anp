<!DOCTYPE html>

<html>

<head>
  <link rel="stylesheet" type="text/css" href="semantic/out/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="app/styles/mystyles.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title></title>

  <!-- Dependancy scripts -->
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="bower_components/angular-route/angular-route.min.js"></script>
  <script src="bower_components/firebase/firebase.js"></script>
  <script src="bower_components/angularfire/dist/angularfire.min.js"></script>
  <script src="semantic/out/semantic.min.js" type="text/javascript"></script>

  <!-- Own scripts -->
  <script src="app/app.js"></script>
  <script src="app/services/auth_service.js"></script>
  <script src="app/directives/restrict.js"></script>
  <script src="app/services/login_service.js"></script>
  <script src="app/services/postService.js"></script>
  <script src="app/services/signup_service.js"></script>
  <script src="app/services/user_service.js"></script>
  <script src="app/controllers/list_controller.js"></script>
  <script src="app/controllers/add_controller.js"></script>
  <script src="app/controllers/home_controller.js"></script>
  <script src="app/controllers/signup_controller.js"></script>
  <script src="app/controllers/user_controller.js"></script>
  <script src="myscripts.js" type="text/javascript"></script>

</head>

<body ng-app="IlmoitusApp" ng-controller="HomeController" ngCloak>

  <!-- Main menu -->
  <div class="ui fixed purple secondary pointing menu">
    <div class="ui container" id="largeMenu">
      <a href="#/" class="item" ng-click="menuClick()"><i class="large home icon"></i></a>
      <a href="#/posts" class="item" ng-click="menuClick()">Selaa ilmoituksia</a>
      <a href="#/add" class="item" ng-click="menuClick()" restrict access="user">Lisää ilmoitus</a>
      <div class="right menu">
        <a href="#/user" class="item" ng-click="menuClick()" restrict access="user">Oma sivuni</a>
        <a href="#/signup" class="item" ng-click="menuClick()" restrict access="guest">Rekisteröidy</a>
        <a class="item" ng-click="loginModal()" restrict access="guest">Kirjaudu sisään</a>
        <a class="item" ng-click="logout()" restrict access="user">Kirjaudu ulos</a>
      </div>
    </div>
    <div class="ui container" id="miniMenu">
      <a href="#/" class="item" ng-click="menuClick()"><i class="large home icon"></i></a>
      <a href="#/posts" class="item" ng-click="menuClick()"><i class="large list layout icon"></i></a>
      <a href="#/add" class="item" ng-click="menuClick()" restrict access="user"><i class="large write icon"></i></a>
      <div class="right menu">
        <a href="#/user" class="item" ng-click="menuClick()" restrict access="user"><i class="large user icon"></i></a>
        <a href="#/signup" class="item" ng-click="menuClick()" restrict access="guest"><i class="large add user icon"></i></a>
        <a class="item" ng-click="loginModal()" restrict access="guest"><i class="large sign in icon"></i></a>
        <a class="item" ng-click="logout()" restrict access="user"><i class="large sign out icon"></i></a>
      </div>
    </div>
  </div>

  <div ng-view class="ui main text container">
    <!-- View begins -->

    <!-- View ends -->
  </div>

  <!-- Modal for user login -->
  <div class="ui small modal" id="loginModal">
    <div class="content">
      <div class="ui center aligned grid">
        <div class="ten wide column">
          <h2 class="ui purple header">
            <div class="content">
              Kirjaudu sisään
            </div>
          </h2>
          <!-- Login form begins -->
          <div class="ui error message" ng-show="showLoginError != null">
              <div class="header">Kirjautuminen ei onnistunut!</div>
              <p>{{showLoginError}}</p>
            </div>
          <form class="ui large form">
            <div class="ui stacked segment">
              <div class="field">
                <div class="ui left icon input">
                  <i class="user icon"></i>
                  <input type="text" name="email" ng-model="email" placeholder="Sähköpostiosoite">
                </div>
              </div>
              <div class="field">
                <div class="ui left icon input">
                  <i class="lock icon"></i>
                  <input type="password" name="password" ng-model="password" placeholder="Salasana">
                </div>
              </div>
              <div class="ui fluid large purple submit button" ng-click="login()">Kirjaudu</div>
            </div>

            <div class="ui error message"></div>
          </form>
          <!-- End of login form -->

          <div class="ui message">
            Uusi käyttäjä? <a href="#/signup" ng-click="closeLogin()">Rekisteröidy</a>
          </div>
        </div>
      </div>

    </div>
    <!-- End of modal -->


  </body>

  </html>
